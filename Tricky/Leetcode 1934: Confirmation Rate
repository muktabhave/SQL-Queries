select s.user_id , 
round((case when cr.user_id is null then 0 else confirmrate end),2)as confirmation_rate
from
(select 
c.user_id,
sum(case when c.action= 'confirmed' then 1 else 0 end)/
count(action) as confirmrate
from Confirmations c
group by c.user_id) cr
right outer join Signups s
on (s.user_id= cr.user_id)
